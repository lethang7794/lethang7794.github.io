---
import { Icon } from "astro-icon/components";
import Section from "../Section.astro";
import { education } from "@cv";
import { certificates } from "@cv";
---

<Section className={Astro.props.className} title="Education">
	<ul class="space-y-4 py-3 print:space-y-0">
		{
			education.map(
				({ institution, startDate, endDate, area, url, iconName }) => {
					const start = new Date(startDate);
					const startYear = start.getFullYear();
					const startMonth = start.toLocaleString("en-US", { month: "short" });
					const end = new Date(endDate);
					const endYear = endDate != null ? end.getFullYear() : "Present";
					const endMonth = end.toLocaleString("en-US", { month: "short" });
					const years = `${startYear} ${startMonth} - ${endYear} ${endMonth}`;

					return (
						<div class="flex flex-col items-baseline lg:flex-row">
							<div class="relative flex w-full items-baseline gap-2">
								<Icon
									name={iconName || "mdi:university-outline"}
									class="hidden h-6 w-6 shrink-0 self-start md:inline print:hidden"
								/>
								<div>
									<h3 class="mr-6 items-baseline gap-x-2 gap-y-0.5 font-medium">
										{url ? (
											<a
												target="_blank"
												class="group flex items-center gap-[6px] decoration-dotted underline-offset-[5px] hover:text-skin-hue hover:underline"
												href={url}
											>
												{institution}
											</a>
										) : (
											<span class="group flex items-center gap-[6px] decoration-dotted underline-offset-[5px] hover:text-skin-hue hover:underline">
												{institution}
											</span>
										)}
									</h3>
									<div class="mb-1 text-sm italic text-skin-muted">{area}</div>
								</div>
							</div>

							<time class="whitespace-nowrap text-xs text-skin-muted md:block md:pl-8 lg:pl-0">
								{years}
							</time>
						</div>
					);
				}
			)
		}
	</ul>
</Section>
