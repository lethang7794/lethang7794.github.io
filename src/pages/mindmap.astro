---
import "../styles/markmap.css";
import * as file from "src/markmap.md";
import Layout from "@/layouts/Layout.astro";
import { basics } from "@cv";

const frontmatter = `
---
markmap:
  // maxWidth: 640
---

`;
---

<Layout title={`${basics.name} - Mind map CV`}>
	<div class="markmap-wrapper">
		<div class="markmap">
			<script
				is:inline
				type="text/template"
				set:html={frontmatter + file.rawContent()}
			/>
		</div>
	</div>
</Layout>

<script>
	declare global {
		interface Window {
			markmap: any;
		}
	}
	window.markmap = {
		/** @type AutoLoaderOptions */
		autoLoader: {
			toolbar: true,
			manual: true,
		},
	};
</script>
<script is:inline src="https://cdn.jsdelivr.net/npm/markmap-autoloader@latest"
></script>

<script is:inline>
	setTimeout(() => {
		markmap.autoLoader.renderAll();
	}, 500);
</script>
